<p-card [style]="{ width: '100%', height: '100%' }" class="flex justify-center">
  <p-card id="evac-status" [class]="status()?.status">
    <div class="evac-grid">
      <div class="flex justify-center align-center">
        @if (status()){
        <i class="pi pi-info-circle text-white" style="font-size: 4em"></i>
        } @else {
        <p-progress-spinner ariaLabel="loading"></p-progress-spinner>
        }
      </div>
      <div class="">
        <h2 class="text-white">Status: {{ statusHeader() }}</h2>
        <p class="text-white">
          {{ statusMessage() }}
        </p>
      </div>
    </div>
  </p-card>
  <div class="grid first-level mt-4">
    <p-card class="output-card flex justify-center align-center"
      ><google-map
        [options]="mapOptions"
        id=""
        [width]="windowWidthSignal()"
        [height]="windowWidthSignal()"
        [center]="center()"
        [zoom]="zoom"
      >
        @for (position of markerPositions; track position) {
        <map-advanced-marker
          #marker="mapAdvancedMarker"
          [position]="position"
          (mapClick)="openInfoWindow(marker)"
        />
        }
        <map-info-window>Info Window content</map-info-window>
      </google-map>
    </p-card>
    <p-card class="output-card">
      <h2 class="text-center">Preparation Guidance</h2>
      <ul>
        @for (bullet of guidance()?.advice; track bullet) {
        <li>{{ bullet }}</li>
        } @empty {
        <sparkle-your-life></sparkle-your-life>
        }
      </ul>
      <p style="text-align: end; font-size: 0.8em">
        Guidance generated by
        <a
          class="output-link"
          href="https://www.ibm.com/products/watsonx-ai"
          rel="noopener noreferrer"
          target="_blank"
          >watsonx.ai</a
        >.
      </p>
    </p-card>
    @if (hotels()?.hotels){
    <p-card class="output-card">
      <h2 class="text-center">Available Hotels</h2>
      <ol>
        @for (hotel of hotels().hotels; track hotel.name){
        <li>
          <h3>{{ hotel.name }}</h3>
          <p>{{ hotel.address }}</p>
          <p>{{ hotel.distance.toFixed(2) }} miles away.</p>
        </li>
        }
      </ol>
    </p-card>
    }
    <p-card class="output-card flex justify-center align-center">
      <h2 class="text-center">Live Updates</h2>
      <youtube-player-example></youtube-player-example>
    </p-card>
  </div>
</p-card>
